// Critical: SQL Injection vulnerability
// Sonar should classify this as VULNERABILITY (Injection category)

const mysql = require("mysql");
const connection = mysql.createConnection({
  host: "localhost",
  user: "root",
  password: "root",
  database: "employees"
});

function findEmployee(name) {
  // ðŸš¨ Vulnerability: unsanitized user input concatenated into SQL query
  const query = "SELECT * FROM employees WHERE name = '" + name + "'";
  connection.query(query, (err, results) => {
    if (err) {
      throw err;
    }
    console.log("Employee:", results);
  });
}

// Example call with unsafe input
findEmployee("' OR '1'='1");
